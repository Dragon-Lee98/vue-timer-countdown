"use strict";var FORMAT_NUMBER=function(e,t){return e<10&&t?"0"+e:e.toString()},SET_INTERVAL=function(e,t){var n;"function"==typeof e&&(n=setTimeout((function o(){n=setTimeout(o,t),e()}),t)),this.stop=function(){clearTimeout(n)}},script={props:{deadline:{type:Number,required:!0},completeZero:{type:Boolean,default:!0},leftSecond:{type:Number,default:0},ignoreDay:{type:Boolean,default:!0}},data:function(){return{day:0,hour:0,minute:0,second:0,setIntervalInstance:Object.freeze({stop:function(){}})}},computed:{deadlineTimestamp:function(){return Date.now()+1e3*this.deadline}},watch:{deadline:{handler:function(e){var t=this;this.render(),this.getRestTime(e)>this.leftSecond?(this.setIntervalInstance.stop(),this.setIntervalInstance=new SET_INTERVAL((function(){t.render(),t.getRestTime()<=t.leftSecond&&(t.setIntervalInstance.stop(),t.$nextTick((function(){t.$emit("done")})))}),1e3)):this.$nextTick((function(){t.$emit("done")}))},immediate:!0}},beforeDestroy:function(){this.setIntervalInstance.stop()},methods:{render:function(){var e=this,t=this.getRestTime();this.ignoreDay?this.hour=FORMAT_NUMBER(Math.floor(t/3600),this.completeZero):(this.day=FORMAT_NUMBER(Math.floor(t/86400),this.completeZero),this.hour=FORMAT_NUMBER(Math.floor(t/3600%24),this.completeZero)),this.minute=FORMAT_NUMBER(Math.floor(t/60%60),this.completeZero),this.second=FORMAT_NUMBER(t%60,this.completeZero),this.$nextTick((function(){e.$emit("update",{day:e.day,hour:e.hour,minute:e.minute,second:e.second,restSecond:t})}))},getRestTime:function(){return Math.max(Math.round((this.deadlineTimestamp-Date.now())/1e3),0)}}};function normalizeComponent(e,t,n,o,i,r,s,_,d,a){"boolean"!=typeof s&&(d=_,_=s,s=!1);var u,c="function"==typeof n?n.options:n;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),o&&(c._scopeId=o),r?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=u):t&&(u=s?function(){t.call(this,a(this.$root.$options.shadowRoot))}:function(e){t.call(this,_(e))}),u)if(c.functional){var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,u):[u]}return n}var normalizeComponent_1=normalizeComponent;const __vue_script__=script;var __vue_render__=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._t("default",[e.ignoreDay?e._e():[e._v(e._s(e.day)+":")],e._v(e._s(e.hour)+":"+e._s(e.minute)+":"+e._s(e.second)+"\n  ")],{day:e.day,hour:e.hour,minute:e.minute,second:e.second})],2)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var vueTimerCountdown=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,!1,void 0,void 0,void 0);vueTimerCountdown.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.component||"timer-countdown",vueTimerCountdown)},module.exports=vueTimerCountdown;
