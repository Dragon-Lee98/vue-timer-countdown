"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var FORMAT_NUMBER=function(e,t){return e<10&&t?"0"+e:e.toString()},SET_INTERVAL=function(e,t){var n;"function"==typeof e&&(n=setTimeout((function o(){n=setTimeout(o,t),e()}),t)),this.stop=function(){clearTimeout(n)}},script={props:{deadline:{type:Number,required:!0},completeZero:{type:Boolean,default:!0},leftSecond:{type:Number,default:0},ignoreDay:{type:Boolean,default:!0}},data:function(){return{day:0,hour:0,minute:0,second:0,setIntervalInstance:null}},mounted:function(){var e=this;this.render(),this.setIntervalInstance=new SET_INTERVAL((function(){if(e.getRestTime()<(e.leftSecond||0))return e.setIntervalInstance.stop(),void e.$emit("done");e.render()}),1e3)},beforeDestroy:function(){this.setIntervalInstance.stop()},methods:{render:function(){var e=this.getRestTime(this.deadline);this.ignoreDay?this.hour=FORMAT_NUMBER(Math.floor(e/3600),this.completeZero):(this.day=FORMAT_NUMBER(Math.floor(e/86400),this.completeZero),this.hour=FORMAT_NUMBER(Math.floor(e/3600%24),this.completeZero)),this.minute=FORMAT_NUMBER(Math.floor(e/60%60),this.completeZero),this.second=FORMAT_NUMBER(e%60,this.completeZero)},getRestTime:function(){return Math.round((this.deadline-Date.now())/1e3)}}};function normalizeComponent(e,t,n,o,r,i,s,_,u,d){"boolean"!=typeof s&&(u=_,_=s,s=!1);var a,c="function"==typeof n?n.options:n;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),o&&(c._scopeId=o),i?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=a):t&&(a=s?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,_(e))}),a)if(c.functional){var l=c.render;c.render=function(e,t){return a.call(t),l(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,a):[a]}return n}var normalizeComponent_1=normalizeComponent;const __vue_script__=script;var __vue_render__=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._t("default",[e.ignoreDay?e._e():[e._v(e._s(e.day)+":")],e._v(e._s(e.hour)+":"+e._s(e.minute)+":"+e._s(e.second)+"\n  ")],{day:e.day,hour:e.hour,minute:e.minute,second:e.second})],2)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var vueTimerCountdown=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,void 0,void 0),plugin={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.component||"timer-countdown",vueTimerCountdown)}};exports.default=plugin,exports.vueTimerCountdown=vueTimerCountdown;
