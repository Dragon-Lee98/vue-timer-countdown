var e=function(e,t){return e<10&&t?"0"+e:e.toString()},t=function(e,t){var n;"function"==typeof e&&(n=setTimeout((function o(){n=setTimeout(o,t),e()}),t)),this.stop=function(){clearTimeout(n)}};const n={props:{deadline:{type:Number,required:!0},completeZero:{type:Boolean,default:!0},leftSecond:{type:Number,default:0},ignoreDay:{type:Boolean,default:!0}},data:function(){return{day:0,hour:0,minute:0,second:0,setIntervalInstance:{stop:function(){}}}},computed:{deadlineTimestamp:function(){return Date.now()+1e3*this.deadline}},watch:{deadline:{handler:function(e){var n=this;this.render(),this.getRestTime(e)>this.leftSecond?(this.setIntervalInstance.stop(),this.setIntervalInstance=new t((function(){n.render(),n.getRestTime()<=n.leftSecond&&(n.setIntervalInstance.stop(),n.$emit("done"))}),1e3)):this.$emit("done")},immediate:!0}},beforeDestroy:function(){this.setIntervalInstance.stop()},methods:{render:function(){var t=this.getRestTime();this.ignoreDay?this.hour=e(Math.floor(t/3600),this.completeZero):(this.day=e(Math.floor(t/86400),this.completeZero),this.hour=e(Math.floor(t/3600%24),this.completeZero)),this.minute=e(Math.floor(t/60%60),this.completeZero),this.second=e(t%60,this.completeZero)},getRestTime:function(){return Math.max(Math.round((this.deadlineTimestamp-Date.now())/1e3),0)}}};var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._t("default",[e.ignoreDay?e._e():[e._v(e._s(e.day)+":")],e._v(e._s(e.hour)+":"+e._s(e.minute)+":"+e._s(e.second)+"\n  ")],{day:e.day,hour:e.hour,minute:e.minute,second:e.second})],2)};o._withStripped=!0;var i=function(e,t,n,o,i,r,s,a,d,c){"boolean"!=typeof s&&(d=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let h;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),o&&(u._scopeId=o),r?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=h):t&&(h=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(u.functional){const e=u.render;u.render=function(t,n){return h.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,h):[h]}return n}({render:o,staticRenderFns:[]},void 0,n,void 0,!1,void 0,!1,void 0,void 0,void 0),r={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.component||"timer-countdown",i)}};export default r;export{i as vueTimerCountdown};
